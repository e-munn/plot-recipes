{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/elimunn/Desktop/plot-recipes/site/src/components/plot/plot.js\";\nimport React, { useRef, useState } from 'react';\nimport Vessel from './vessels/vessels.js';\nimport IngredientNode from './ingredients/ingredientNode.js';\nimport Action from './actions/actions.js';\nimport color from '../../media/theme/colors.json';\nimport dim from '../../media/theme/dim.json';\n\nconst Plot = ({\n  recipe\n}) => {\n  var root = recipe;\n  var allVessels = root.descendants().filter(d => 'vessel' in d.data).filter(d => d.depth !== 0).sort((a, b) => {\n    return asscending(a.data.stepOrder, b.data.stepOrder);\n  });\n  var flows = [];\n  allVessels.forEach((a, i) => {\n    const vessel = [];\n    vessel.push( /*#__PURE__*/_jsxDEV(Vessel, {\n      a: a,\n      i: i,\n      dim: dim,\n      color: color\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }, this));\n    const ingredientNodes = [];\n    a.children.forEach((b, j) => {\n      if ('ingredient' in b.data) {\n        ingredientNodes.push( /*#__PURE__*/_jsxDEV(IngredientNode, {\n          color: color,\n          dim: dim,\n          a: a,\n          b: b,\n          j: j\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 11\n        }, this));\n      }\n    });\n    const actionNodes = [];\n    a.children.forEach((b, j) => {\n      if ('action' in b.data) {\n        actionNodes.push( /*#__PURE__*/_jsxDEV(Action, {\n          color: color,\n          dim: dim,\n          a: a,\n          b: b,\n          j: j\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this));\n      }\n    });\n    flows.push( /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [vessel, actionNodes, ingredientNodes]\n    }, void 0, true));\n  });\n  return /*#__PURE__*/_jsxDEV(\"g\", {\n    transform: `translate(${0}, ${50})`,\n    children: flows\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 7\n  }, this);\n};\n\n_c = Plot;\nexport default Plot;\n\nvar _c;\n\n$RefreshReg$(_c, \"Plot\");","map":{"version":3,"sources":["/Users/elimunn/Desktop/plot-recipes/site/src/components/plot/plot.js"],"names":["React","useRef","useState","Vessel","IngredientNode","Action","color","dim","Plot","recipe","root","allVessels","descendants","filter","d","data","depth","sort","a","b","asscending","stepOrder","flows","forEach","i","vessel","push","ingredientNodes","children","j","actionNodes"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,MAAhB,EAAwBC,QAAxB,QAAwC,OAAxC;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,cAAP,MAA2B,iCAA3B;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,KAAP,MAAkB,+BAAlB;AACA,OAAOC,GAAP,MAAgB,4BAAhB;;AAEA,MAAMC,IAAI,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAc;AAEzB,MAAIC,IAAI,GAAGD,MAAX;AAEA,MAAIE,UAAU,GAAGD,IAAI,CAACE,WAAL,GAAmBC,MAAnB,CAA0BC,CAAC,IAAK,YAAYA,CAAC,CAACC,IAA9C,EAAqDF,MAArD,CAA4DC,CAAC,IAAKA,CAAC,CAACE,KAAF,KAAY,CAA9E,EAAkFC,IAAlF,CAAuF,CAACC,CAAD,EAAGC,CAAH,KAAS;AAAC,WAAOC,UAAU,CAACF,CAAC,CAACH,IAAF,CAAOM,SAAR,EAAmBF,CAAC,CAACJ,IAAF,CAAOM,SAA1B,CAAjB;AAAsD,GAAvJ,CAAjB;AAEA,MAAIC,KAAK,GAAG,EAAZ;AAEAX,EAAAA,UAAU,CAACY,OAAX,CAAmB,CAACL,CAAD,EAAGM,CAAH,KAAS;AAE1B,UAAMC,MAAM,GAAG,EAAf;AACAA,IAAAA,MAAM,CAACC,IAAP,eACE,QAAC,MAAD;AACE,MAAA,CAAC,EAAER,CADL;AAEE,MAAA,CAAC,EAAEM,CAFL;AAGE,MAAA,GAAG,EAAEjB,GAHP;AAIE,MAAA,KAAK,EAAED;AAJT;AAAA;AAAA;AAAA;AAAA,YADF;AASA,UAAMqB,eAAe,GAAG,EAAxB;AAEAT,IAAAA,CAAC,CAACU,QAAF,CAAWL,OAAX,CAAmB,CAACJ,CAAD,EAAGU,CAAH,KAAS;AAC1B,UAAI,gBAAgBV,CAAC,CAACJ,IAAtB,EAA4B;AAC1BY,QAAAA,eAAe,CAACD,IAAhB,eACE,QAAC,cAAD;AACE,UAAA,KAAK,EAAEpB,KADT;AAEE,UAAA,GAAG,EAAEC,GAFP;AAGE,UAAA,CAAC,EAAEW,CAHL;AAIE,UAAA,CAAC,EAAEC,CAJL;AAKE,UAAA,CAAC,EAAEU;AALL;AAAA;AAAA;AAAA;AAAA,gBADF;AAQC;AACF,KAXH;AAaA,UAAMC,WAAW,GAAG,EAApB;AAEAZ,IAAAA,CAAC,CAACU,QAAF,CAAWL,OAAX,CAAmB,CAACJ,CAAD,EAAGU,CAAH,KAAS;AAC1B,UAAI,YAAYV,CAAC,CAACJ,IAAlB,EAAwB;AACtBe,QAAAA,WAAW,CAACJ,IAAZ,eACE,QAAC,MAAD;AACE,UAAA,KAAK,EAAEpB,KADT;AAEE,UAAA,GAAG,EAAEC,GAFP;AAGE,UAAA,CAAC,EAAEW,CAHL;AAIE,UAAA,CAAC,EAAEC,CAJL;AAKE,UAAA,CAAC,EAAEU;AALL;AAAA;AAAA;AAAA;AAAA,gBADF;AAQC;AACF,KAXH;AAaAP,IAAAA,KAAK,CAACI,IAAN,eACE;AAAA,iBACGD,MADH,EAEGK,WAFH,EAGGH,eAHH;AAAA,oBADF;AAOD,GAjDD;AAoDA,sBACI;AAAG,IAAA,SAAS,EAAG,aAAY,CAAE,KAAI,EAAG,GAApC;AAAA,cACGL;AADH;AAAA;AAAA;AAAA;AAAA,UADJ;AAKD,CAjED;;KAAMd,I;AAmEN,eAAeA,IAAf","sourcesContent":["import React, { useRef, useState } from 'react';\nimport Vessel from './vessels/vessels.js';\nimport IngredientNode from './ingredients/ingredientNode.js';\nimport Action from './actions/actions.js';\nimport color from '../../media/theme/colors.json';\nimport dim from '../../media/theme/dim.json';\n\nconst Plot = ({recipe}) => {\n\n  var root = recipe\n\n  var allVessels = root.descendants().filter(d => ('vessel' in d.data)).filter(d => (d.depth !== 0)).sort((a,b) => {return asscending(a.data.stepOrder, b.data.stepOrder)} )\n\n  var flows = []\n\n  allVessels.forEach((a,i) => {\n\n    const vessel = []\n    vessel.push(\n      <Vessel\n        a={a}\n        i={i}\n        dim={dim}\n        color={color}\n      />\n    )\n\n    const ingredientNodes = []\n\n    a.children.forEach((b,j) => {\n      if ('ingredient' in b.data) {\n        ingredientNodes.push(\n          <IngredientNode\n            color={color}\n            dim={dim}\n            a={a}\n            b={b}\n            j={j}\n          />)\n        }\n      })\n\n    const actionNodes = []\n\n    a.children.forEach((b,j) => {\n      if ('action' in b.data) {\n        actionNodes.push(\n          <Action\n            color={color}\n            dim={dim}\n            a={a}\n            b={b}\n            j={j}\n          />)\n        }\n      })\n\n    flows.push(\n      <>\n        {vessel}\n        {actionNodes}\n        {ingredientNodes}\n      </>\n    )\n  })\n\n\n  return (\n      <g transform={`translate(${0}, ${50})`}>\n        {flows}\n      </g>\n  );\n};\n\nexport default Plot;\n"]},"metadata":{},"sourceType":"module"}